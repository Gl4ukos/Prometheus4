<?xml version="1.0"?>
<robot name="arm_4dof_jaco_like">

  <!-- ================= BASE ================= -->
  <link name="base">
    <visual>
      <geometry>
        <cylinder radius="0.09" length="0.12"/>
      </geometry>
      <origin xyz="0 0 0.06"/>
      <material name="darkgray">
        <color rgba="0.25 0.25 0.25 1"/>
      </material>
    </visual>
  </link>

  <!-- ================= JOINT 1: BASE YAW ================= -->
  <joint name="joint1_base_yaw" type="revolute">
    <parent link="base"/>
    <child link="link1"/>
    <origin xyz="0 0 0.12" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-3.14" upper="3.14" effort="30" velocity="1"/>
  </joint>

  <!-- ================= LINK 1: SHOULDER COLUMN ================= -->
  <link name="link1">
    <visual>
      <geometry>
        <cylinder radius="0.07" length="0.22"/>
      </geometry>
      <origin xyz="0 0 0.11"/>
      <material name="blue">
        <color rgba="0.2 0.3 1 1"/>
      </material>
    </visual>
  </link>

  <!-- ================= JOINT 2: SHOULDER PITCH (OFFSET FORWARD) ================= -->
  <joint name="joint2_shoulder_pitch" type="revolute">
    <parent link="link1"/>
    <child link="link2"/>
    <!-- JACO-like forward shoulder offset -->
    <origin xyz="0.08 0 0.22" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-1.6" upper="1.2" effort="25" velocity="1"/>
  </joint>

  <!-- ================= LINK 2: UPPER ARM ================= -->
  <link name="link2">
    <visual>
      <geometry>
        <cylinder radius="0.05" length="0.30"/>
      </geometry>
      <origin xyz="0 0 0.15"/>
      <material name="blue">
        <color rgba="0.2 0.3 1 1"/>
      </material>
    </visual>
  </link>

  <!-- ================= JOINT 3: ELBOW PITCH ================= -->
  <joint name="joint3_elbow_pitch" type="revolute">
    <parent link="link2"/>
    <child link="link3"/>
    <!-- Elbow offset upward -->
    <origin xyz="0 0 0.30" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-2.8" upper="2.8" effort="20" velocity="1"/>
  </joint>

  <!-- ================= LINK 3: FOREARM ================= -->
  <link name="link3">
    <visual>
      <geometry>
        <cylinder radius="0.035" length="0.22"/>
      </geometry>
      <origin xyz="0 0 0.11"/>
      <material name="blue">
        <color rgba="0.2 0.3 1 1"/>
      </material>
    </visual>
  </link>

  <!-- ================= JOINT 4: WRIST PITCH ================= -->
  <joint name="joint4_wrist_pitch" type="revolute">
    <parent link="link3"/>
    <child link="wrist"/>
    <!-- Compact wrist offset -->
    <origin xyz="0.02 0 0.22" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>
  </joint>

  <!-- ================= WRIST BODY ================= -->
  <link name="wrist">
    <visual>
      <geometry>
        <cylinder radius="0.045" length="0.08"/>
      </geometry>
      <origin xyz="0 0 0.04"/>
      <material name="darkgray">
        <color rgba="0.3 0.3 0.3 1"/>
      </material>
    </visual>
  </link>

  <!-- ================= END EFFECTOR ================= -->
  <joint name="joint_tool" type="fixed">
    <parent link="wrist"/>
    <child link="ee"/>
    <origin xyz="0 0 0.08" rpy="0 0 0"/>
  </joint>

  <link name="ee">
    <visual>
      <geometry>
        <sphere radius="0.035"/>
      </geometry>
      <material name="red">
        <color rgba="1 0.1 0.1 1"/>
      </material>
    </visual>
  </link>

</robot>
